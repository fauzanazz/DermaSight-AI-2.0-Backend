# DermaSight AI Backend - Environment Variables

# ======================
# DATABASE CONFIGURATION
# ======================
POSTGRES_DB=skinscan
POSTGRES_USER=skinscan
POSTGRES_PASSWORD=your-secure-password-here
DATABASE_URL=postgresql+asyncpg://skinscan:your-secure-password-here@db:5432/skinscan

# ======================
# CORS CONFIGURATION
# ======================
# Add your frontend domains here (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com,https://your-frontend.vercel.app

# ======================
# APPLICATION SETTINGS
# ======================
STORE_IMAGES=false
MODEL_VERSION=skinscan-derm-v1

MODEL_PATH=models/best_efficientnet.pth
MODEL_URL=https://huggingface.co/fauzanazz/EfficientNet-skin-disease/resolve/main/best_efficientnet.pth

# ======================
# OPENAI/VLLM CONFIGURATION
# ======================
# Required for AI-enhanced diagnosis and Vision API fallback
OPENAI_API_KEY=sk-your-openai-api-key-here

# For OpenAI (default)
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4
OPENAI_VISION_MODEL=gpt-4-vision-preview

# For VLLM (uncomment and configure if using custom VLLM endpoint)
# OPENAI_BASE_URL=http://your-vllm-server:8000/v1
# OPENAI_MODEL=your-medical-model
# OPENAI_VISION_MODEL=gpt-4-vision-preview

# AI Enhancement Settings
USE_AI_ENHANCEMENT=true
CONFIDENCE_THRESHOLD=0.6

# ======================
# DOKPLOY DEPLOYMENT NOTES
# ======================
# 1. Set your domain in Dokploy to point to the 'api' service on port 8000
# 2. Database will be internal-only (no external port exposure)
# 3. All file volumes will be stored in ../files/ directory
# 4. Make sure to set your OPENAI_API_KEY for full functionality
# 5. Update CORS_ORIGINS with your actual frontend URL

# ======================
# OPTIONAL CONFIGURATIONS
# ======================
# Uncomment and configure if needed

# Custom model path (if you have a local model file)
# MODEL_PATH=/app/models/your-custom-model.pt

# Additional CORS origins (add more as needed)
# CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://staging.yourdomain.com,https://yourdomain.com

# Custom confidence threshold for Vision API fallback
# CONFIDENCE_THRESHOLD=0.7

# Disable AI enhancement (will use basic rule-based responses)
# USE_AI_ENHANCEMENT=false